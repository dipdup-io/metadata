version: 0.0.1

metadata:
  settings:
    ipfs_gateways:
      - https://gateway.pinata.cloud
      - https://ipfs.infura.io
      - https://ipfs.baking-bad.org
      - https://dweb.link
      - https://ipfs.io
    ipfs_timeout: 3
    http_timeout: 3
    max_retry_count_on_error: 3
    contract_service_workers: 15
    token_service_workers: 75
    max_cpu: 4
    aws:
    thumbnail:
      max_file_size_mb: 100
      workers: 20
      size: 100
      timeout: 20
  indexers:
    mainnet:
      datasources:
        tzkt: https://api.tzkt.io
    hangzhounet:
      datasources:
        tzkt: https://api.hangzhou2net.tzkt.io

database:
  kind: postgres
  host: ${POSTGRES_HOST:-db}
  port: 5432
  user: ${POSTGRES_USER:-dipdup}
  password: ${POSTGRES_PASSWORD:-changeme}
  database: ${POSTGRES_DB:-dipdup}

hasura:
  url: http://${HASURA_HOST:-hasura}:8080
  admin_secret: ${ADMIN_SECRET:-changeme}
  select_limit: 10000
  allow_aggregation: false
  rest: true

prometheus:
  url: ${EXPORT_HOST:-0.0.0.0}:2112
